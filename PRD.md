# 产品需求文档（PRD）
## 基于TrendRadar的短视频热点到脚本生成全链路AI应用

---

## 目录

1. [项目概述](#1-项目概述)
2. [用户角色与使用场景](#2-用户角色与使用场景)
3. [业务规则](#3-业务规则)
4. [功能需求概览](#4-功能需求概览)
5. [非功能性需求](#5-非功能性需求)
6. [详细功能需求](#6-详细功能需求)
7. [完整业务流程](#7-完整业务流程)
8. [数据流转设计](#8-数据流转设计)
9. [技术架构设计](#9-技术架构设计)
10. [UI/交互设计](#10-ui交互设计简略)
11. [开发计划](#11-开发计划)
12. [成功指标](#12-成功指标)
13. [后续规划](#13-后续规划)
14. [附录](#14-附录)

---

## 1. 项目概述

### 1.1 项目名称
短视频热点智能创作系统（Video Trend Intelligence Creation System, VTICS）

### 1.2 项目背景

#### 1.2.1 业务背景
公司是一家直播电商带货的MCN公司，拥有7个专业直播间，涵盖多个品类：
- 1个女装直播间
- 1个童装直播间
- 3个大件耐用消费品直播间（家具家电方向）
- 1个二手奢侈品直播间
- 1个美妆直播间

#### 1.2.2 业务痛点
1. **热点发现效率低**：编导团队需要手动刷抖音等平台寻找热点，耗时1-2小时，容易错过最佳时机
2. **热点应用不精准**：知道热点是什么，但不知道如何与商品结合，缺乏可执行的创作方案
3. **脚本创作周期长**：从热点发现到脚本完成需要3-4小时，影响拍摄进度
4. **内容质量不稳定**：依赖编导经验判断，缺乏数据支撑，内容质量波动大
5. **爆款技巧难复用**：看到爆款视频但不知道成功要素，无法系统化学习

#### 1.2.3 现有资源
- **TrendRadar系统**：已部署，可监控35个平台（包括抖音），支持关键词筛选和飞书推送
- **AI短视频拆解工具**：已具备，可深度分析爆款视频的结构化要素（镜头、文案、爆款公式等）
- **专业团队**：编导团队、剪辑团队、拍摄团队
- **IP资源**：罗永浩作为代表IP，可用于短视频内容

### 1.3 项目目标

#### 1.3.1 核心目标
构建一个从热点发现到拍摄脚本生成的全链路AI应用系统，实现：
- **自动化热点发现**：系统自动监控抖音等平台热点，筛选与商品相关的内容
- **智能化内容分析**：自动拆解爆款视频，提取可复制的成功要素
- **精准化脚本生成**：基于热点+商品+爆款技巧，自动生成拍摄脚本和分镜
- **标准化创作流程**：建立可复用的创作模板和流程

#### 1.3.2 业务目标
- **效率提升**：热点发现时间从1-2小时降至0，脚本创作时间从3-4小时降至1-2小时
- **质量提升**：内容与热点结合度从30-40%提升至70-80%，视频播放量提升20-30%
- **成本降低**：减少人工查找和分析时间，降低内容创作成本
- **规模化**：支持7个直播间同时运作，实现批量内容创作

#### 1.3.3 技术目标
- **系统集成**：打通TrendRadar、AI拆解工具、脚本生成系统
- **自动化程度**：核心流程自动化率达到80%以上
- **响应速度**：从热点发现到脚本生成，全流程控制在2小时内
- **可扩展性**：支持未来扩展到更多直播间和平台

---

## 2. 用户角色与使用场景

### 2.1 用户角色

#### 2.1.1 电商负责人（主要决策者）
- **角色描述**：负责整体内容策略和效果评估
- **使用频率**：每日查看
- **核心需求**：
  - 查看各直播间的内容创作效果
  - 评估热点应用的成功率
  - 优化整体内容策略

#### 2.1.2 编导团队（主要使用者）
- **角色描述**：负责短视频脚本创作和内容策划
- **使用频率**：每日多次使用
- **核心需求**：
  - 快速获取与商品相关的热点
  - 深度理解热点的成功要素
  - 快速生成拍摄脚本和分镜
  - 参考爆款视频的创作技巧

#### 2.1.3 拍摄团队（间接使用者）
- **角色描述**：根据脚本和分镜进行拍摄
- **使用频率**：每日使用
- **核心需求**：
  - 获取清晰的拍摄脚本
  - 理解分镜要求和拍摄要点
  - 确保拍摄质量

#### 2.1.4 剪辑团队（间接使用者）
- **角色描述**：根据脚本进行视频剪辑
- **使用频率**：每日使用
- **核心需求**：
  - 获取剪辑要点和节奏要求
  - 理解视频的整体风格定位

### 2.2 核心使用场景

#### 场景1：T-1日上午 - 热点发现与拆解
**时间**：T-1日上午8:00-10:00  
**用户**：编导团队  
**流程**：
1. 系统自动抓取抖音热点（TrendRadar）
2. 筛选与商品相关的热点视频
3. 自动调用拆解工具分析热点视频
4. 生成"热点+拆解"综合报告
5. 推送到飞书群
6. 编导团队查看报告，选择适合的热点

**输入**：
- 明日直播排期（T日要推的商品）
- 商品信息（名称、特点、卖点）

**输出**：
- 热点视频列表（含URL）
- 热点拆解报告（镜头、文案、爆款公式等）
- 应用建议（如何与商品结合）

#### 场景2：T-1日上午 - 脚本生成
**时间**：T-1日上午10:00-11:00  
**用户**：编导团队  
**流程**：
1. 编导选择要应用的热点
2. 输入商品详细信息
3. 系统基于热点+商品+爆款技巧生成脚本
4. 编导审核和优化脚本
5. 生成最终拍摄脚本和分镜

**输入**：
- 选择的热点视频
- 商品信息（名称、品牌、链接、说明手卡）
- 直播间类型（女装/童装/家具等）

**输出**：
- 完整拍摄脚本
- 详细分镜表格
- 拍摄要点
- 剪辑要点

#### 场景3：T-1日下午 - 拍摄执行
**时间**：T-1日下午  
**用户**：拍摄团队  
**流程**：
1. 拍摄团队查看脚本和分镜
2. 理解每个镜头的拍摄要求
3. 按脚本执行拍摄
4. 确保拍摄质量符合要求

**输入**：
- 拍摄脚本
- 分镜表格
- 拍摄要点

**输出**：
- 拍摄完成的视频素材

#### 场景4：T-1日晚上 - 视频发布
**时间**：T-1日晚上  
**用户**：编导团队  
**流程**：
1. 剪辑团队完成视频剪辑
2. 编导审核视频质量
3. 发布视频到抖音等平台
4. 使用系统推荐的标签和话题
5. 为T日直播预热

**输入**：
- 剪辑完成的视频
- 系统推荐的标签和话题

**输出**：
- 发布的视频
- 使用的标签和话题

#### 场景5：T日直播 - 效果追踪
**时间**：T日直播期间  
**用户**：电商负责人、编导团队  
**流程**：
1. 追踪视频播放量、点赞、评论
2. 统计从视频进入直播间的人数
3. 分析直播间转化率
4. 评估热点应用效果
5. 优化后续内容策略

**输入**：
- 视频数据（播放量、点赞、评论）
- 直播间数据（进入人数、转化率）

**输出**：
- 效果分析报告
- 优化建议

---

## 3. 业务规则

### 3.1 时间规则
- **T-1日**：拍摄日，需要完成明日直播的引流视频拍摄
- **T日**：直播日，当日进行直播带货
- **热点获取时间**：T-1日上午8:00自动抓取
- **脚本生成时间**：T-1日上午10:00前完成
- **拍摄时间**：T-1日下午完成
- **发布时间**：T-1日晚上发布，为T日直播预热

### 3.2 内容规则
- **视频时长**：5-15秒，以短频快为主
- **内容类型**：引流短视频，主要作用是给直播间引流
- **核心卖点**：商品展示和价格优惠，结合热点话题
- **IP使用**：罗永浩形象可用于短视频内容
- **单爆品逻辑**：每个直播间每次直播主推一个爆品

### 3.3 质量规则
- **热点匹配度**：筛选的热点必须与商品高度相关（匹配度>70%）
- **脚本完整性**：脚本必须包含完整的镜头、台词、动作、时长
- **分镜清晰度**：分镜表格必须清晰，每个镜头都有明确的拍摄要求
- **标签准确性**：推荐的标签和话题必须与视频内容匹配

### 3.4 数据规则
- **热点数据**：每日获取，保留最近7天的数据
- **拆解报告**：每个热点视频生成一份拆解报告，永久保存
- **脚本数据**：每个脚本保存，建立脚本库
- **效果数据**：追踪视频发布后7天的数据

---

## 4. 功能需求概览

### 4.1 核心功能模块

#### 4.1.1 热点监控模块
- 自动监控抖音等平台热点
- 关键词筛选相关热点
- 获取热点视频URL和详细信息
- 推送热点到飞书

#### 4.1.2 视频拆解模块
- 接收热点视频URL
- 调用AI拆解工具分析视频
- 生成结构化拆解报告
- 提取爆款技巧和公式

#### 4.1.3 脚本生成模块
- 基于热点+商品+爆款技巧生成脚本
- 生成详细分镜表格
- 提供拍摄和剪辑要点
- 推荐标签和话题

#### 4.1.4 数据管理模块
- 管理商品信息
- 管理直播间信息
- 管理脚本库
- 管理拆解报告库

#### 4.1.5 效果追踪模块
- 追踪视频数据
- 追踪直播间数据
- 生成效果分析报告
- 提供优化建议

---

## 5. 非功能性需求

### 5.1 性能需求
- **响应时间**：热点获取<5分钟，拆解分析<10分钟，脚本生成<2分钟
- **并发支持**：支持7个直播间同时使用
- **数据容量**：支持存储10万+热点数据，1万+拆解报告

### 5.2 可靠性需求
- **系统可用性**：99%以上
- **数据准确性**：热点匹配准确率>90%，脚本生成准确率>85%
- **容错能力**：单个模块故障不影响其他模块运行

### 5.3 安全性需求
- **数据安全**：商品信息、脚本数据加密存储
- **访问控制**：不同角色有不同的访问权限
- **日志记录**：所有操作记录日志，便于追溯

### 5.4 可维护性需求
- **代码规范**：遵循统一的代码规范
- **文档完整**：提供完整的技术文档和用户手册
- **易于扩展**：支持未来添加新的平台和功能

---



---

## 6. 详细功能需求

### 6.1 热点监控模块

#### 6.1.1 功能描述
自动监控抖音等平台的热点内容，筛选与商品相关的热点视频，获取视频URL和详细信息。

#### 6.1.2 功能清单

**F1.1 平台监控**
- **功能**：支持监控多个平台的热点内容
- **优先级**：P0（必须）
- **输入**：平台列表（抖音、微博、B站等）
- **输出**：各平台的热点内容列表
- **业务规则**：
  - 每日定时抓取（默认8:00）
  - 支持手动触发抓取
  - 支持自定义抓取频率（5-15分钟）

**F1.2 关键词筛选**
- **功能**：根据关键词筛选相关热点
- **优先级**：P0（必须）
- **输入**：
  - 关键词列表（支持普通词、必须词、过滤词）
  - 直播间类型（女装/童装/家具/奢侈品/美妆）
- **输出**：筛选后的热点列表
- **业务规则**：
  - 必须词（+标记）：必须包含，否则不匹配
  - 普通词：包含即可，提高匹配度
  - 过滤词（!标记）：包含则排除
  - 匹配度计算：必须词权重50%，普通词权重30%，过滤词权重-100%

**F1.3 视频信息获取**
- **功能**：获取热点视频的详细信息
- **优先级**：P0（必须）
- **输入**：热点视频标题/ID
- **输出**：
  - 视频URL（关键字段）
  - 视频标题
  - 视频标签
  - 视频热度数据（播放量、点赞、评论）
  - 视频时长
  - 发布时间
  - 作者信息
- **业务规则**：
  - URL必须可访问
  - 信息不完整时标记为"待补充"
  - 支持批量获取

**F1.4 热点推送**
- **功能**：将筛选后的热点推送到飞书
- **优先级**：P0（必须）
- **输入**：热点列表（含视频信息）
- **输出**：飞书消息卡片
- **业务规则**：
  - 按直播间分组推送
  - 每个热点包含：标题、URL、热度、标签
  - 支持"一键拆解"按钮（如果飞书支持）
  - 推送时间：每日9:00

**F1.5 热点管理**
- **功能**：管理历史热点数据
- **优先级**：P1（重要）
- **输入**：无
- **输出**：热点列表、搜索、筛选
- **业务规则**：
  - 保留最近7天的热点数据
  - 支持按时间、平台、关键词搜索
  - 支持收藏热点

---

### 6.2 视频拆解模块

#### 6.2.1 功能描述
接收热点视频URL，调用AI拆解工具进行深度分析，生成结构化拆解报告，提取爆款技巧和公式。

#### 6.2.2 功能清单

**F2.1 视频拆解调用**
- **功能**：调用AI拆解工具分析视频
- **优先级**：P0（必须）
- **输入**：
  - 视频URL
  - 拆解工具配置（API地址、密钥等）
- **输出**：拆解工具返回的原始数据
- **业务规则**：
  - 支持单个视频拆解
  - 支持批量视频拆解（最多10个）
  - 拆解超时时间：10分钟
  - 失败重试：最多3次

**F2.2 拆解报告解析**
- **功能**：解析拆解工具返回的数据，生成结构化报告
- **优先级**：P0（必须）
- **输入**：拆解工具原始数据
- **输出**：结构化拆解报告
- **数据结构**：
  ```json
  {
    "video_info": {
      "title": "视频标题",
      "duration": "视频时长",
      "url": "视频URL"
    },
    "basic_info": {
      "theme": "视频主题",
      "content_type": "内容类型",
      "core_value": "核心价值点",
      "target_audience": "目标受众"
    },
    "shot_table": [
      {
        "shot_number": "镜头编号",
        "time_range": "时间区间",
        "dialogue": "对应台词",
        "content": "画面内容描述",
        "purpose": "镜头作用",
        "shaping_point": "塑造点",
        "viral_technique": "爆款技巧运用"
      }
    ],
    "golden_3s": {
      "opening_line": "开头话术",
      "hook_type": "钩子类型",
      "design_intention": "设计意图",
      "psychology_trigger": "心理触发机制"
    },
    "highlights": [
      {
        "name": "亮点名称",
        "description": "详细描述",
        "viral_reason": "爆款原因"
      }
    ],
    "viral_formula": {
      "formula_name": "公式名称",
      "formula_structure": "公式结构",
      "application_method": "运用方式",
      "effectiveness": "有效性分析"
    },
    "keywords": {
      "content_keywords": ["内容关键词"],
      "emotional_keywords": ["情绪关键词"],
      "behavioral_keywords": ["行为关键词"],
      "trending_keywords": ["热点关键词"]
    },
    "production_tips": {
      "shooting_tips": ["拍摄技巧"],
      "editing_tips": ["剪辑技巧"],
      "copywriting_tips": ["文案技巧"]
    }
  }
  ```

**F2.3 爆款技巧提取**
- **功能**：从拆解报告中提取可复制的爆款技巧
- **优先级**：P0（必须）
- **输入**：拆解报告
- **输出**：爆款技巧列表
- **提取内容**：
  - 镜头语言技巧（快速切换、慢镜头等）
  - 剪辑节奏技巧（快节奏、慢节奏等）
  - 文案结构技巧（反转公式、痛点公式等）
  - 黄金3秒技巧（悬念钩子、利益钩子等）
  - 标签和话题技巧

**F2.4 拆解报告管理**
- **功能**：管理拆解报告库
- **优先级**：P1（重要）
- **输入**：无
- **输出**：拆解报告列表、搜索、查看
- **业务规则**：
  - 永久保存所有拆解报告
  - 支持按视频、时间、技巧类型搜索
  - 支持报告对比分析
  - 支持导出报告（PDF、Word）

**F2.5 批量拆解**
- **功能**：批量拆解多个热点视频
- **优先级**：P1（重要）
- **输入**：视频URL列表（最多10个）
- **输出**：批量拆解报告
- **业务规则**：
  - 支持队列处理
  - 显示处理进度
  - 支持部分失败（继续处理其他视频）

---

### 6.3 脚本生成模块

#### 6.3.1 功能描述
基于热点信息、商品信息、爆款技巧，自动生成拍摄脚本和分镜表格。

#### 6.3.2 功能清单

**F3.1 脚本生成**
- **功能**：基于输入信息生成拍摄脚本
- **优先级**：P0（必须）
- **输入**：
  - 选择的热点视频（含拆解报告）
  - 商品信息（名称、品牌、链接、说明手卡）
  - 直播间类型
  - 视频时长要求（5-15秒）
- **输出**：完整拍摄脚本
- **脚本结构**：
  ```json
  {
    "video_info": {
      "title": "视频标题",
      "duration": "视频时长",
      "theme": "视频主题",
      "core_selling_point": "核心卖点"
    },
    "script_content": "完整脚本内容",
    "shot_list": [
      {
        "shot_number": "镜头编号",
        "time_range": "时间区间",
        "shot_type": "镜头类型（中景/特写/全景）",
        "content": "画面内容描述",
        "dialogue": "台词",
        "action": "动作",
        "music": "音乐",
        "purpose": "镜头作用",
        "shaping_point": "塑造点"
      }
    ],
    "production_notes": {
      "shooting_tips": ["拍摄要点"],
      "editing_tips": ["剪辑要点"],
      "key_points": ["关键要点"]
    },
    "tags": {
      "recommended_tags": ["推荐标签"],
      "recommended_topics": ["推荐话题"]
    }
  }
  ```

**F3.2 分镜表格生成**
- **功能**：生成详细的分镜表格
- **优先级**：P0（必须）
- **输入**：脚本数据
- **输出**：分镜表格（Markdown/Excel格式）
- **表格结构**：
  | 镜头编号 | 时间区间 | 镜头类型 | 画面内容 | 台词 | 动作 | 音乐 | 镜头作用 | 塑造点 |
  |---------|---------|---------|---------|------|------|------|---------|--------|
  | 1 | 0-3秒 | 中景 | ... | ... | ... | ... | ... | ... |

**F3.3 脚本优化建议**
- **功能**：提供脚本优化建议
- **优先级**：P1（重要）
- **输入**：生成的脚本
- **输出**：优化建议列表
- **建议类型**：
  - 时长优化（是否过长或过短）
  - 节奏优化（是否过快或过慢）
  - 内容优化（是否突出卖点）
  - 标签优化（是否匹配内容）

**F3.4 脚本模板管理**
- **功能**：管理脚本模板库
- **优先级**：P1（重要）
- **输入**：无
- **输出**：模板列表、创建、编辑、删除
- **业务规则**：
  - 支持按直播间类型创建模板
  - 支持模板复用
  - 支持模板版本管理

**F3.5 脚本审核**
- **功能**：编导审核和优化脚本
- **优先级**：P0（必须）
- **输入**：生成的脚本
- **输出**：审核后的脚本
- **业务规则**：
  - 支持在线编辑脚本
  - 支持版本对比
  - 支持审核意见记录
  - 支持一键通过/驳回

---

### 6.4 数据管理模块

#### 6.4.1 功能描述
管理系统中的各类数据，包括商品信息、直播间信息、脚本库、拆解报告库等。

#### 6.4.2 功能清单

**F4.1 商品信息管理**
- **功能**：管理商品信息
- **优先级**：P0（必须）
- **输入**：商品信息
- **输出**：商品列表、详情
- **数据结构**：
  ```json
  {
    "product_id": "商品ID",
    "product_name": "商品名称",
    "brand": "品牌",
    "category": "品类",
    "live_room": "所属直播间",
    "product_link": "商品链接",
    "description": "商品描述",
    "selling_points": ["卖点列表"],
    "price": "价格",
    "hand_card": "说明手卡内容",
    "live_date": "直播日期"
  }
  ```
- **功能点**：
  - 商品信息录入
  - 商品信息编辑
  - 商品信息查询
  - 商品信息删除
  - 商品信息导入/导出

**F4.2 直播间信息管理**
- **功能**：管理直播间信息
- **优先级**：P0（必须）
- **输入**：直播间信息
- **输出**：直播间列表、详情
- **数据结构**：
  ```json
  {
    "room_id": "直播间ID",
    "room_name": "直播间名称",
    "category": "直播间类型（女装/童装/家具/奢侈品/美妆）",
    "keywords": ["关键词列表"],
    "ip_character": "IP形象（罗永浩等）",
    "style": "风格定位"
  }
  ```

**F4.3 脚本库管理**
- **功能**：管理历史脚本
- **优先级**：P1（重要）
- **输入**：无
- **输出**：脚本列表、详情
- **功能点**：
  - 脚本搜索（按商品、时间、直播间）
  - 脚本查看
  - 脚本对比
  - 脚本复用
  - 脚本导出

**F4.4 拆解报告库管理**
- **功能**：管理拆解报告
- **优先级**：P1（重要）
- **输入**：无
- **输出**：报告列表、详情
- **功能点**：
  - 报告搜索（按视频、时间、技巧）
  - 报告查看
  - 报告对比
  - 报告导出

---

### 6.5 效果追踪模块

#### 6.5.1 功能描述
追踪视频发布后的数据，分析效果，提供优化建议。

#### 6.5.2 功能清单

**F5.1 视频数据追踪**
- **功能**：追踪视频发布后的数据
- **优先级**：P1（重要）
- **输入**：视频URL
- **输出**：视频数据
- **数据指标**：
  - 播放量
  - 点赞数
  - 评论数
  - 分享数
  - 完播率
  - 转发率

**F5.2 直播间数据追踪**
- **功能**：追踪从视频进入直播间的人数
- **优先级**：P1（重要）
- **输入**：视频URL、直播间ID
- **输出**：直播间数据
- **数据指标**：
  - 从视频进入直播间的人数
  - 直播间观看人数
  - 直播间转化率
  - 销售额

**F5.3 效果分析报告**
- **功能**：生成效果分析报告
- **优先级**：P1（重要）
- **输入**：视频数据、直播间数据
- **输出**：分析报告
- **分析内容**：
  - 视频表现分析
  - 热点应用效果分析
  - 脚本质量分析
  - 优化建议

**F5.4 数据对比分析**
- **功能**：对比不同视频的效果
- **优先级**：P2（一般）
- **输入**：多个视频ID
- **输出**：对比分析报告
- **对比维度**：
  - 播放量对比
  - 转化率对比
  - 热点应用效果对比

---

## 7. 完整业务流程

### 7.1 主流程：从热点到脚本生成

```
开始
  ↓
[Step 1] TrendRadar自动抓取热点（T-1日 8:00）
  ↓
[Step 2] 系统筛选与商品相关的热点
  ↓
[Step 3] 获取热点视频URL和详细信息
  ↓
[Step 4] 自动调用拆解工具分析热点视频
  ↓
[Step 5] 生成"热点+拆解"综合报告
  ↓
[Step 6] 推送到飞书（T-1日 9:00）
  ↓
[Step 7] 编导团队查看报告，选择适合的热点
  ↓
[Step 8] 编导输入商品详细信息
  ↓
[Step 9] 系统基于热点+商品+爆款技巧生成脚本
  ↓
[Step 10] 编导审核和优化脚本
  ↓
[Step 11] 生成最终拍摄脚本和分镜（T-1日 10:00前）
  ↓
[Step 12] 拍摄团队按脚本执行拍摄（T-1日下午）
  ↓
[Step 13] 剪辑团队完成视频剪辑（T-1日晚上）
  ↓
[Step 14] 发布视频到抖音等平台（T-1日晚上）
  ↓
[Step 15] 追踪视频和直播间数据（T日）
  ↓
[Step 16] 生成效果分析报告
  ↓
结束
```

### 7.2 子流程1：热点发现与拆解

```
开始
  ↓
[1.1] TrendRadar定时任务触发（每日8:00）
  ↓
[1.2] 调用TrendRadar API获取热点列表
  ↓
[1.3] 根据关键词筛选热点
  ├─ 必须词匹配
  ├─ 普通词匹配
  └─ 过滤词排除
  ↓
[1.4] 获取热点视频URL和详细信息
  ↓
[1.5] 判断是否需要拆解
  ├─ 是 → 调用拆解工具
  └─ 否 → 直接推送
  ↓
[1.6] 拆解工具分析视频
  ├─ 成功 → 生成拆解报告
  └─ 失败 → 记录错误，继续处理
  ↓
[1.7] 解析拆解报告，提取爆款技巧
  ↓
[1.8] 生成"热点+拆解"综合报告
  ↓
[1.9] 推送到飞书（按直播间分组）
  ↓
结束
```

### 7.3 子流程2：脚本生成

```
开始
  ↓
[2.1] 编导选择要应用的热点
  ↓
[2.2] 输入商品详细信息
  ├─ 商品名称
  ├─ 品牌
  ├─ 商品链接
  ├─ 说明手卡
  └─ 直播间类型
  ↓
[2.3] 系统整合信息
  ├─ 热点信息
  ├─ 商品信息
  ├─ 拆解报告（爆款技巧）
  └─ 脚本模板
  ↓
[2.4] AI生成脚本初稿
  ├─ 生成脚本内容
  ├─ 生成分镜表格
  ├─ 生成拍摄要点
  └─ 生成剪辑要点
  ↓
[2.5] 系统优化建议
  ├─ 时长检查
  ├─ 节奏检查
  ├─ 内容检查
  └─ 标签检查
  ↓
[2.6] 编导审核脚本
  ├─ 通过 → 生成最终脚本
  └─ 需要修改 → 在线编辑
  ↓
[2.7] 生成最终脚本和分镜
  ↓
[2.8] 推送给拍摄团队和剪辑团队
  ↓
结束
```

### 7.4 异常流程

**异常1：热点获取失败**
- 处理：记录错误，发送通知，使用缓存数据或手动输入

**异常2：拆解工具调用失败**
- 处理：重试3次，仍失败则标记为"待拆解"，推送热点基本信息

**异常3：脚本生成失败**
- 处理：记录错误，发送通知，编导手动创建脚本

**异常4：视频URL无效**
- 处理：标记为"URL无效"，跳过该热点

---

## 8. 数据流转设计

### 8.1 数据流图

```
TrendRadar系统
    ↓ (热点数据)
热点监控模块
    ↓ (视频URL)
视频拆解模块
    ↓ (拆解报告)
脚本生成模块
    ↓ (脚本数据)
数据管理模块
    ↓ (效果数据)
效果追踪模块
```

### 8.2 关键数据接口

**接口1：TrendRadar → 热点监控模块**
- 数据格式：JSON
- 字段：标题、URL、标签、热度、时间
- 频率：每日一次（可配置）

**接口2：热点监控模块 → 视频拆解模块**
- 数据格式：视频URL
- 调用方式：API调用
- 返回：拆解报告JSON

**接口3：拆解模块 → 脚本生成模块**
- 数据格式：拆解报告JSON
- 使用方式：数据查询
- 频率：按需

**接口4：脚本生成模块 → 飞书**
- 数据格式：飞书消息卡片
- 推送方式：Webhook
- 频率：按需

---



---

## 9. 技术架构设计

### 9.1 系统架构

#### 9.1.1 整体架构
采用微服务架构，分为以下几个模块：

```
┌─────────────────────────────────────────────────────────┐
│                     前端层                               │
│  (Web管理后台 + 飞书集成)                                │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│                    API网关层                              │
│  (统一入口、鉴权、限流)                                   │
└─────────────────────────────────────────────────────────┘
                          ↓
┌──────────────┬──────────────┬──────────────┬──────────────┐
│  热点监控服务 │  视频拆解服务 │  脚本生成服务 │  数据管理服务 │
└──────────────┴──────────────┴──────────────┴──────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│                   数据存储层                              │
│  (MySQL + Redis + 文件存储)                               │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│                   外部系统                                │
│  (TrendRadar + AI拆解工具 + 飞书)                        │
└─────────────────────────────────────────────────────────┘
```

#### 9.1.2 技术栈选型

**后端技术栈**：
- **语言**：Python 3.10+
- **框架**：FastAPI（API服务）
- **任务队列**：Celery + Redis（异步任务处理）
- **数据库**：MySQL 8.0（主数据库）
- **缓存**：Redis 7.0（缓存和消息队列）
- **文件存储**：本地文件系统或OSS（脚本、报告存储）

**前端技术栈**：
- **框架**：Vue 3 + TypeScript
- **UI组件**：Element Plus
- **状态管理**：Pinia
- **HTTP客户端**：Axios

**AI/ML技术栈**：
- **脚本生成**：DeepSeek
- **文本处理**：LangChain（提示词管理）
- **向量数据库**：可选（用于相似脚本检索）

**部署技术栈**：
- **容器化**：Docker + Docker Compose
- **编排**：Kubernetes（可选，用于生产环境）
- **监控**：Prometheus + Grafana
- **日志**：ELK Stack（可选）

---

### 9.2 模块详细设计

#### 9.2.1 热点监控服务

**职责**：
- 与TrendRadar系统集成
- 定时抓取热点数据
- 关键词筛选
- 获取视频URL和详细信息

**技术实现**：
```python
# 伪代码示例
class HotspotMonitorService:
    def __init__(self):
        self.trendradar_client = TrendRadarClient()
        self.keyword_filter = KeywordFilter()
        self.video_info_extractor = VideoInfoExtractor()
    
    async def fetch_hotspots(self, platform="douyin"):
        """抓取热点"""
        hotspots = await self.trendradar_client.get_hotspots(platform)
        return hotspots
    
    async def filter_hotspots(self, hotspots, keywords):
        """关键词筛选"""
        filtered = self.keyword_filter.filter(hotspots, keywords)
        return filtered
    
    async def get_video_info(self, video_url):
        """获取视频信息"""
        info = await self.video_info_extractor.extract(video_url)
        return info
```

**数据模型**：
```python
class Hotspot:
    id: str
    title: str
    url: str
    platform: str
    tags: List[str]
    heat_score: int
    publish_time: datetime
    video_info: VideoInfo
    match_score: float  # 匹配度
```

**API接口**：
- `GET /api/v1/hotspots` - 获取热点列表
- `POST /api/v1/hotspots/fetch` - 手动触发抓取
- `GET /api/v1/hotspots/{id}` - 获取热点详情
- `POST /api/v1/hotspots/filter` - 关键词筛选

---

#### 9.2.2 视频拆解服务

**职责**：
- 调用AI拆解工具API
- 解析拆解报告
- 提取爆款技巧
- 管理拆解报告库

**技术实现**：
```python
# 伪代码示例
class VideoAnalysisService:
    def __init__(self):
        self.analyzer_client = VideoAnalyzerClient()
        self.report_parser = ReportParser()
        self.technique_extractor = TechniqueExtractor()
    
    async def analyze_video(self, video_url):
        """调用拆解工具分析视频"""
        result = await self.analyzer_client.analyze(video_url)
        return result
    
    def parse_report(self, raw_data):
        """解析拆解报告"""
        report = self.report_parser.parse(raw_data)
        return report
    
    def extract_techniques(self, report):
        """提取爆款技巧"""
        techniques = self.technique_extractor.extract(report)
        return techniques
```

**数据模型**：
```python
class AnalysisReport:
    id: str
    video_url: str
    video_info: VideoInfo
    basic_info: BasicInfo
    shot_table: List[Shot]
    golden_3s: Golden3S
    highlights: List[Highlight]
    viral_formula: ViralFormula
    keywords: Keywords
    production_tips: ProductionTips
    created_at: datetime
```

**API接口**：
- `POST /api/v1/analysis/analyze` - 分析视频
- `GET /api/v1/analysis/reports` - 获取拆解报告列表
- `GET /api/v1/analysis/reports/{id}` - 获取拆解报告详情
- `POST /api/v1/analysis/batch` - 批量分析

---

#### 9.2.3 脚本生成服务

**职责**：
- 整合热点、商品、爆款技巧信息
- 调用AI生成脚本
- 生成分镜表格
- 提供优化建议

**技术实现**：
```python
# 伪代码示例
class ScriptGeneratorService:
    def __init__(self):
        self.llm_client = LLMClient()  # DeepSeek
        self.template_manager = TemplateManager()
        self.optimizer = ScriptOptimizer()
    
    async def generate_script(self, hotspot, product, analysis_report):
        """生成脚本"""
        # 构建提示词
        prompt = self.build_prompt(hotspot, product, analysis_report)
        
        # 调用LLM生成脚本
        script_data = await self.llm_client.generate(prompt)
        
        # 解析和格式化
        script = self.parse_script(script_data)
        
        # 生成分镜表格
        shot_list = self.generate_shot_list(script)
        
        return {
            "script": script,
            "shot_list": shot_list,
            "production_notes": self.generate_notes(script),
            "tags": self.generate_tags(script)
        }
    
    def build_prompt(self, hotspot, product, analysis_report):
        """构建提示词"""
        template = self.template_manager.get_template(product.category)
        prompt = template.format(
            hotspot=hotspot,
            product=product,
            techniques=analysis_report.techniques,
            viral_formula=analysis_report.viral_formula
        )
        return prompt
```

**提示词模板示例**：
```
你是一位资深短视频编导，需要基于以下信息生成一个5-15秒的引流短视频脚本：

【热点信息】
- 热点标题：{hotspot.title}
- 热点标签：{hotspot.tags}
- 爆款技巧：{techniques}
- 爆款公式：{viral_formula}

【商品信息】
- 商品名称：{product.name}
- 品牌：{product.brand}
- 核心卖点：{product.selling_points}
- 价格：{product.price}

【要求】
1. 视频时长：5-15秒
2. 结合热点话题和商品特性
3. 运用爆款技巧和公式
4. 突出商品卖点和价格优惠
5. 适合{product.category}直播间风格

请生成：
1. 完整脚本（包含台词、动作、镜头）
2. 详细分镜表格
3. 拍摄要点
4. 剪辑要点
5. 推荐标签和话题
```

**数据模型**：
```python
class Script:
    id: str
    video_info: VideoInfo
    script_content: str
    shot_list: List[Shot]
    production_notes: ProductionNotes
    tags: Tags
    status: str  # draft/reviewed/approved
    created_at: datetime
    updated_at: datetime
```

**API接口**：
- `POST /api/v1/scripts/generate` - 生成脚本
- `GET /api/v1/scripts` - 获取脚本列表
- `GET /api/v1/scripts/{id}` - 获取脚本详情
- `PUT /api/v1/scripts/{id}` - 更新脚本
- `POST /api/v1/scripts/{id}/review` - 审核脚本
- `POST /api/v1/scripts/{id}/optimize` - 获取优化建议

---

#### 9.2.4 数据管理服务

**职责**：
- 管理商品信息
- 管理直播间信息
- 管理脚本库
- 管理拆解报告库

**数据模型**：
```python
class Product:
    id: str
    name: str
    brand: str
    category: str
    live_room_id: str
    product_link: str
    description: str
    selling_points: List[str]
    price: float
    hand_card: str
    live_date: date

class LiveRoom:
    id: str
    name: str
    category: str
    keywords: List[str]
    ip_character: str
    style: str
```

**API接口**：
- `GET /api/v1/products` - 获取商品列表
- `POST /api/v1/products` - 创建商品
- `PUT /api/v1/products/{id}` - 更新商品
- `GET /api/v1/live-rooms` - 获取直播间列表
- `POST /api/v1/live-rooms` - 创建直播间

---

### 9.3 数据库设计

#### 9.3.1 核心表结构

**hotspots表**（热点表）
```sql
CREATE TABLE hotspots (
    id VARCHAR(64) PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    url VARCHAR(500) NOT NULL,
    platform VARCHAR(50) NOT NULL,
    tags JSON,
    heat_score INT,
    publish_time DATETIME,
    video_info JSON,
    match_score FLOAT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_platform_time (platform, publish_time),
    INDEX idx_match_score (match_score)
);
```

**analysis_reports表**（拆解报告表）
```sql
CREATE TABLE analysis_reports (
    id VARCHAR(64) PRIMARY KEY,
    video_url VARCHAR(500) NOT NULL,
    video_info JSON,
    basic_info JSON,
    shot_table JSON,
    golden_3s JSON,
    highlights JSON,
    viral_formula JSON,
    keywords JSON,
    production_tips JSON,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_video_url (video_url)
);
```

**scripts表**（脚本表）
```sql
CREATE TABLE scripts (
    id VARCHAR(64) PRIMARY KEY,
    hotspot_id VARCHAR(64),
    product_id VARCHAR(64),
    analysis_report_id VARCHAR(64),
    video_info JSON,
    script_content TEXT,
    shot_list JSON,
    production_notes JSON,
    tags JSON,
    status VARCHAR(20),
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_product_id (product_id),
    INDEX idx_status (status)
);
```

**products表**（商品表）
```sql
CREATE TABLE products (
    id VARCHAR(64) PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    brand VARCHAR(100),
    category VARCHAR(50),
    live_room_id VARCHAR(64),
    product_link VARCHAR(500),
    description TEXT,
    selling_points JSON,
    price DECIMAL(10, 2),
    hand_card TEXT,
    live_date DATE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_live_room_id (live_room_id),
    INDEX idx_live_date (live_date)
);
```

**live_rooms表**（直播间表）
```sql
CREATE TABLE live_rooms (
    id VARCHAR(64) PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    category VARCHAR(50) NOT NULL,
    keywords JSON,
    ip_character VARCHAR(100),
    style VARCHAR(100),
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

---

### 9.4 外部系统集成

#### 9.4.1 TrendRadar集成

**集成方式**：
- **方案A**：API集成（如果TrendRadar提供API）
- **方案B**：数据库集成（如果TrendRadar数据存储在数据库）
- **方案C**：文件集成（如果TrendRadar输出文件）

**数据格式**：
```json
{
  "hotspots": [
    {
      "title": "热点标题",
      "url": "https://www.douyin.com/video/xxx",
      "platform": "douyin",
      "tags": ["#标签1", "#标签2"],
      "heat_score": 95,
      "publish_time": "2024-11-12 08:00:00"
    }
  ]
}
```

**集成接口**：
```python
class TrendRadarClient:
    async def get_hotspots(self, platform="douyin", date=None):
        """获取热点列表"""
        # 实现逻辑
        pass
    
    async def get_hotspot_detail(self, hotspot_id):
        """获取热点详情"""
        # 实现逻辑
        pass
```

---

#### 9.4.2 AI拆解工具集成

**集成方式**：
- **方案A**：API集成（推荐）
- **方案B**：命令行调用
- **方案C**：SDK集成

**API接口设计**（如果拆解工具提供API）：
```python
POST /api/v1/analyze
Request:
{
    "video_url": "https://www.douyin.com/video/xxx",
    "options": {
        "include_shot_table": true,
        "include_golden_3s": true,
        "include_viral_formula": true
    }
}

Response:
{
    "status": "success",
    "report_id": "report_xxx",
    "data": {
        // 拆解报告数据
    }
}
```

**集成接口**：
```python
class VideoAnalyzerClient:
    def __init__(self, api_url, api_key):
        self.api_url = api_url
        self.api_key = api_key
    
    async def analyze(self, video_url, options=None):
        """调用拆解工具分析视频"""
        response = await self.http_client.post(
            f"{self.api_url}/api/v1/analyze",
            json={
                "video_url": video_url,
                "options": options or {}
            },
            headers={"Authorization": f"Bearer {self.api_key}"}
        )
        return response.json()
```

---

#### 9.4.3 飞书集成

**集成方式**：
- 使用飞书开放平台API
- Webhook推送消息

**消息卡片格式**：
```json
{
    "msg_type": "interactive",
    "card": {
        "config": {
            "wide_screen_mode": true
        },
        "header": {
            "title": {
                "content": "【女装直播间】今日热点推荐",
                "tag": "plain_text"
            }
        },
        "elements": [
            {
                "tag": "div",
                "text": {
                    "content": "🔥 热点1：变装秀挑战\n热度：★★★★★\n视频链接：https://www.douyin.com/video/xxx",
                    "tag": "lark_md"
                }
            },
            {
                "tag": "action",
                "actions": [
                    {
                        "tag": "button",
                        "text": {
                            "content": "一键拆解",
                            "tag": "plain_text"
                        },
                        "type": "primary",
                        "url": "https://your-system.com/analyze?video_url=xxx"
                    }
                ]
            }
        ]
    }
}
```

**集成接口**：
```python
class FeishuClient:
    def __init__(self, webhook_url):
        self.webhook_url = webhook_url
    
    async def send_message(self, card_data):
        """发送飞书消息"""
        response = await self.http_client.post(
            self.webhook_url,
            json=card_data
        )
        return response.json()
```

---

### 9.5 任务调度设计

#### 9.5.1 定时任务

使用Celery + Redis实现定时任务：

**任务1：每日热点抓取**
```python
@celery_app.task
def fetch_daily_hotspots():
    """每日8:00自动抓取热点"""
    monitor_service = HotspotMonitorService()
    hotspots = await monitor_service.fetch_hotspots()
    # 处理热点数据
    pass
```

**任务2：热点推送**
```python
@celery_app.task
def push_hotspots_to_feishu():
    """每日9:00推送热点到飞书"""
    # 获取筛选后的热点
    # 生成飞书消息卡片
    # 推送到飞书
    pass
```

**任务3：数据清理**
```python
@celery_app.task
def cleanup_old_data():
    """清理7天前的热点数据"""
    # 删除过期数据
    pass
```

#### 9.5.2 异步任务

**任务1：视频拆解**
```python
@celery_app.task
def analyze_video_async(video_url):
    """异步拆解视频"""
    analysis_service = VideoAnalysisService()
    report = await analysis_service.analyze_video(video_url)
    # 保存报告
    pass
```

**任务2：脚本生成**
```python
@celery_app.task
def generate_script_async(hotspot_id, product_id, analysis_report_id):
    """异步生成脚本"""
    script_service = ScriptGeneratorService()
    script = await script_service.generate_script(...)
    # 保存脚本
    pass
```

---

### 9.6 安全设计

#### 9.6.1 认证授权
- 使用JWT Token进行API认证
- 基于角色的访问控制（RBAC）
- 不同角色有不同的权限

#### 9.6.2 数据安全
- 敏感数据加密存储（商品信息、脚本数据）
- API接口使用HTTPS
- 数据库连接加密

#### 9.6.3 日志审计
- 记录所有关键操作
- 记录API调用日志
- 记录错误日志

---



---

## 10. UI/交互设计（简略）

### 10.1 设计原则

1. **简洁高效**：界面简洁，操作高效，减少学习成本
2. **信息清晰**：重要信息突出显示，层次分明
3. **响应式设计**：支持PC和移动端访问
4. **一致性**：保持设计风格和交互方式的一致性

### 10.2 核心页面设计

#### 10.2.1 首页/仪表盘

**功能**：展示系统概览和关键数据

**布局**：
```
┌─────────────────────────────────────────────────┐
│  顶部导航栏（Logo、用户信息、退出）                │
├─────────────────────────────────────────────────┤
│  左侧菜单栏                                      │
│  - 热点监控                                      │
│  - 视频拆解                                      │
│  - 脚本生成                                      │
│  - 数据管理                                      │
│  - 效果追踪                                      │
├─────────────────────────────────────────────────┤
│  主内容区                                        │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐       │
│  │今日热点数│ │待拆解视频│ │待生成脚本│       │
│  │   15    │ │    3     │ │    2     │       │
│  └──────────┘ └──────────┘ └──────────┘       │
│                                                 │
│  【今日热点列表】                                 │
│  - 热点1：变装秀挑战（女装直播间）               │
│  - 热点2：极简生活（家具直播间）                 │
│  ...                                            │
└─────────────────────────────────────────────────┘
```

**关键元素**：
- 数据卡片：展示关键指标
- 热点列表：展示今日热点
- 快捷操作：一键拆解、一键生成脚本

---

#### 10.2.2 热点监控页面

**功能**：查看和管理热点数据

**布局**：
```
┌─────────────────────────────────────────────────┐
│  【热点监控】                                     │
├─────────────────────────────────────────────────┤
│  筛选条件：                                      │
│  [平台：抖音▼] [时间：今天▼] [直播间：全部▼]      │
│  [搜索框：输入关键词] [查询] [重置]              │
├─────────────────────────────────────────────────┤
│  热点列表：                                      │
│  ┌───────────────────────────────────────────┐ │
│  │ 热点1：变装秀挑战                          │ │
│  │ 平台：抖音 | 热度：★★★★★ | 时间：2小时前  │ │
│  │ 标签：#变装秀 #穿搭挑战                    │ │
│  │ 视频链接：https://...                      │ │
│  │ [查看详情] [一键拆解] [生成脚本]           │ │
│  └───────────────────────────────────────────┘ │
│  ...                                            │
└─────────────────────────────────────────────────┘
```

**关键功能**：
- 筛选和搜索
- 热点详情查看
- 一键拆解
- 一键生成脚本

---

#### 10.2.3 视频拆解页面

**功能**：查看拆解报告和管理拆解报告库

**布局**：
```
┌─────────────────────────────────────────────────┐
│  【视频拆解】                                     │
├─────────────────────────────────────────────────┤
│  [新建拆解] [批量拆解]                           │
├─────────────────────────────────────────────────┤
│  拆解报告列表：                                  │
│  ┌───────────────────────────────────────────┐ │
│  │ 视频：一件连衣裙的3种穿法                 │ │
│  │ 时长：12秒 | 拆解时间：2小时前             │ │
│  │ 爆款技巧：快速切换、反转公式                │ │
│  │ [查看报告] [生成脚本] [导出]               │ │
│  └───────────────────────────────────────────┘ │
│  ...                                            │
└─────────────────────────────────────────────────┘
```

**拆解报告详情页**：
- 基础信息
- 镜头拆解表格
- 黄金3秒分析
- 爆款技巧提取
- 爆款公式解析

---

#### 10.2.4 脚本生成页面

**功能**：生成和管理脚本

**布局**：
```
┌─────────────────────────────────────────────────┐
│  【脚本生成】                                     │
├─────────────────────────────────────────────────┤
│  [新建脚本] [从模板创建]                         │
├─────────────────────────────────────────────────┤
│  脚本生成表单：                                  │
│  - 选择热点：[下拉选择]                          │
│  - 选择商品：[下拉选择]                          │
│  - 视频时长：[5-15秒]                           │
│  - 直播间类型：[女装/童装/家具...]               │
│  [生成脚本]                                      │
├─────────────────────────────────────────────────┤
│  脚本列表：                                      │
│  ┌───────────────────────────────────────────┐ │
│  │ 脚本：变装秀+连衣裙                        │ │
│  │ 状态：待审核 | 创建时间：1小时前            │ │
│  │ [查看] [编辑] [审核] [导出]                 │ │
│  └───────────────────────────────────────────┘ │
│  ...                                            │
└─────────────────────────────────────────────────┘
```

**脚本详情页**：
- 脚本内容
- 分镜表格
- 拍摄要点
- 剪辑要点
- 推荐标签和话题

---

#### 10.2.5 数据管理页面

**功能**：管理商品、直播间等数据

**商品管理**：
- 商品列表
- 商品详情
- 商品创建/编辑
- 商品导入/导出

**直播间管理**：
- 直播间列表
- 直播间配置
- 关键词管理

---

#### 10.2.6 效果追踪页面

**功能**：查看视频和直播间数据

**布局**：
```
┌─────────────────────────────────────────────────┐
│  【效果追踪】                                     │
├─────────────────────────────────────────────────┤
│  数据概览：                                      │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐       │
│  │总播放量  │ │总点赞数  │ │转化率    │       │
│  │ 100,000 │ │  5,000   │ │   15%    │       │
│  └──────────┘ └──────────┘ └──────────┘       │
│                                                 │
│  【视频数据列表】                                 │
│  - 视频1：播放量10,000，点赞500，转化率15%      │
│  - 视频2：播放量8,000，点赞400，转化率12%       │
│  ...                                            │
└─────────────────────────────────────────────────┘
```

---

### 10.3 飞书集成界面

**消息卡片设计**：
- 使用飞书消息卡片格式
- 包含热点信息、视频链接、操作按钮
- 支持一键拆解、一键生成脚本

---

## 11. 开发计划

### 11.1 开发阶段划分

#### 阶段一：MVP版本（4周）

**目标**：实现核心功能，验证可行性

**Week 1-2：基础架构搭建**
- 项目初始化
- 数据库设计
- 基础API开发
- TrendRadar集成

**Week 3：核心功能开发**
- 热点监控模块
- 视频拆解模块（基础版）
- 飞书集成

**Week 4：测试和优化**
- 功能测试
- 性能优化
- Bug修复

**交付物**：
- 热点监控功能
- 基础拆解功能
- 飞书推送功能

---

#### 阶段二：完整功能版本（6周）

**目标**：实现完整功能，支持全流程

**Week 5-6：脚本生成模块**
- 脚本生成服务
- AI集成（DeepSeek）
- 分镜表格生成
- 脚本优化建议

**Week 7-8：数据管理模块**
- 商品管理
- 直播间管理
- 脚本库管理
- 拆解报告库管理

**Week 9：前端开发**
- Web管理后台
- 核心页面开发
- 交互优化

**Week 10：测试和优化**
- 全流程测试
- 性能优化
- 用户体验优化

**交付物**：
- 完整的脚本生成功能
- 数据管理功能
- Web管理后台

---

#### 阶段三：优化和扩展版本（4周）

**目标**：优化体验，扩展功能

**Week 11-12：效果追踪模块**
- 视频数据追踪
- 直播间数据追踪
- 效果分析报告

**Week 13：高级功能**
- 批量拆解
- 脚本模板管理
- 数据对比分析

**Week 14：优化和上线**
- 性能优化
- 安全加固
- 文档完善
- 上线准备

**交付物**：
- 效果追踪功能
- 高级功能
- 完整系统

---

### 11.2 开发资源

#### 11.2.1 人员配置

**后端开发**：2人
- 负责API开发、系统集成、数据库设计

**前端开发**：1人
- 负责Web管理后台开发

**AI/ML开发**：1人（可选）
- 负责AI模型集成、提示词优化

**测试**：1人
- 负责功能测试、性能测试

**产品/设计**：1人
- 负责需求细化、UI设计

**总计**：5-6人

#### 11.2.2 技术资源

- **开发环境**：开发服务器、测试服务器
- **AI服务**：DeepSeek API（需要API Key）
- **云服务**：服务器、数据库、存储（可选）
- **第三方服务**：飞书开放平台账号

---

### 11.3 风险与应对

#### 11.3.1 技术风险

**风险1：TrendRadar数据格式不明确**
- **应对**：提前确认数据格式，设计灵活的适配层

**风险2：AI拆解工具API不稳定**
- **应对**：实现重试机制，支持降级方案（手动拆解）

**风险3：AI脚本生成质量不稳定**
- **应对**：优化提示词，实现人工审核机制

#### 11.3.2 业务风险

**风险1：热点匹配准确率低**
- **应对**：优化关键词匹配算法，支持人工调整

**风险2：脚本生成不符合要求**
- **应对**：建立脚本模板库，支持人工编辑

#### 11.3.3 时间风险

**风险1：开发进度延期**
- **应对**：采用敏捷开发，分阶段交付，优先核心功能

**风险2：第三方系统集成问题**
- **应对**：提前进行技术验证，准备备选方案

---

## 12. 成功指标

### 12.1 业务指标

#### 12.1.1 效率指标

**目标**：
- 热点发现时间：从1-2小时降至0（自动化）
- 脚本创作时间：从3-4小时降至1-2小时
- 全流程时间：从4-6小时降至2-3小时

**衡量方式**：
- 统计每日热点发现耗时
- 统计脚本创作耗时
- 统计全流程耗时

#### 12.1.2 质量指标

**目标**：
- 热点匹配准确率：>90%
- 脚本生成准确率：>85%
- 内容与热点结合度：从30-40%提升至70-80%

**衡量方式**：
- 统计热点匹配准确率（人工评估）
- 统计脚本通过率（审核通过/总数）
- 统计内容与热点结合度（人工评估）

#### 12.1.3 效果指标

**目标**：
- 视频播放量提升：20-30%
- 从视频进入直播间人数提升：25%
- 直播间转化率提升：15%

**衡量方式**：
- 对比使用系统前后的视频播放量
- 对比从视频进入直播间的人数
- 对比直播间转化率

---

### 12.2 技术指标

#### 12.2.1 性能指标

**目标**：
- 热点获取响应时间：<5分钟
- 视频拆解响应时间：<10分钟
- 脚本生成响应时间：<2分钟
- 系统可用性：>99%

**衡量方式**：
- 监控API响应时间
- 监控系统可用性
- 性能测试

#### 12.2.2 稳定性指标

**目标**：
- 系统错误率：<1%
- 数据准确性：>95%

**衡量方式**：
- 监控系统错误日志
- 数据准确性验证

---

### 12.3 用户满意度指标

#### 12.3.1 使用率

**目标**：
- 编导团队使用率：>90%
- 每日活跃用户：>80%

**衡量方式**：
- 统计用户登录次数
- 统计功能使用频率

#### 12.3.2 满意度

**目标**：
- 用户满意度：>4.0/5.0

**衡量方式**：
- 定期用户调研
- 收集用户反馈

---

### 12.4 数据收集方案

#### 12.4.1 自动化数据收集

- **系统日志**：记录所有关键操作
- **性能监控**：监控系统性能指标
- **用户行为**：记录用户操作行为

#### 12.4.2 人工数据收集

- **定期调研**：每月进行用户满意度调研
- **效果评估**：每周评估内容创作效果
- **数据分析**：每月分析业务数据

---

## 13. 后续规划

### 13.1 功能扩展

#### 13.1.1 短期扩展（3-6个月）

- **多平台支持**：扩展到更多平台（微博、B站等）
- **智能推荐**：基于历史数据，智能推荐适合的热点
- **A/B测试**：支持脚本A/B测试，优化效果

#### 13.1.2 中期扩展（6-12个月）

- **视频自动生成**：基于脚本自动生成视频（AI视频生成）
- **智能优化**：基于效果数据，自动优化脚本
- **知识库建设**：建立爆款技巧知识库

#### 13.1.3 长期扩展（12个月+）

- **多语言支持**：支持多语言内容创作
- **跨平台发布**：支持一键发布到多个平台
- **AI助手**：智能AI助手，辅助内容创作

---

### 13.2 技术优化

- **性能优化**：持续优化系统性能
- **AI模型优化**：优化AI模型，提升生成质量
- **用户体验优化**：持续优化用户体验

---

## 14. 附录

### 14.1 术语表

- **T-1日**：拍摄日，需要完成明日直播的引流视频拍摄
- **T日**：直播日，当日进行直播带货
- **热点**：在平台上获得高关注度的内容或话题
- **拆解**：深度分析视频的结构化要素
- **脚本**：短视频的拍摄脚本，包含台词、动作、镜头等
- **分镜**：详细的镜头分解表格

### 14.2 参考文档

- TrendRadar项目文档
- AI拆解工具API文档
- 飞书开放平台文档
- DeepSeek API文档

---


