# 真实环境人工测试指南

**启动时间**: 2025-11-13  
**测试环境**: 生产环境配置

---

## 🚀 服务状态

### ✅ 已启动的服务

1. **后端 API 服务**
   - **地址**: http://localhost:8001
   - **API 文档**: http://localhost:8001/docs
   - **健康检查**: http://localhost:8001/health
   - **状态**: ✅ 运行中

2. **前端应用服务**
   - **地址**: http://localhost:3001
   - **状态**: ✅ 运行中

3. **Celery Worker**
   - **状态**: ✅ 运行中（后台任务处理）

---

## 📋 测试检查清单

### 1. 基础功能测试

#### 1.1 前端界面
- [ ] 访问 http://localhost:3001
- [ ] 检查页面是否正常加载
- [ ] 检查 Header 是否显示（Action + Slogan）
- [ ] 检查导航菜单是否正常
- [ ] 检查渐变背景是否显示
- [ ] 检查玻璃态效果是否正常

#### 1.2 热点监控页面
- [ ] 访问热点监控页面
- [ ] 检查直播间 Tab 是否显示（新名称：时尚真惠选、好物真惠选等）
- [ ] 检查气泡图是否正常显示
- [ ] 检查气泡图阴影效果
- [ ] 点击"抓取热点"按钮
- [ ] 检查任务进度提示是否显示
- [ ] 检查气泡图数据是否更新
- [ ] 点击气泡，检查是否打开商品选择对话框

#### 1.3 商品管理页面
- [ ] 访问商品管理页面
- [ ] 检查页面样式（大圆角卡片、渐变按钮）
- [ ] 创建新商品
- [ ] 编辑商品
- [ ] 查看商品详情
- [ ] 测试商品筛选功能

#### 1.4 脚本管理页面
- [ ] 访问脚本管理页面
- [ ] 检查脚本列表显示
- [ ] 查看脚本详情
- [ ] 测试脚本优化功能
- [ ] 测试"一键应用所有建议"功能
- [ ] 测试脚本编辑功能（内容、分镜列表）

#### 1.5 拆解与生成页面
- [ ] 访问拆解与生成页面
- [ ] 测试手动拆解视频功能
- [ ] 查看拆解报告列表
- [ ] 查看拆解报告详情

### 2. 核心业务流程测试

#### 2.1 完整流程：热点 → 商品 → 脚本
1. [ ] 在热点监控页面选择直播间（如：时尚真惠选）
2. [ ] 点击"抓取热点"按钮
3. [ ] 等待任务完成
4. [ ] 点击气泡图上的热点
5. [ ] 在商品选择对话框中选择商品
6. [ ] 生成脚本
7. [ ] 跳转到脚本管理页面
8. [ ] 查看生成的脚本
9. [ ] 测试脚本优化功能
10. [ ] 测试脚本编辑功能

#### 2.2 直播间管理
- [ ] 点击右上角设置按钮（齿轮图标）
- [ ] 打开直播间设置对话框
- [ ] 检查直播间列表（新名称）
- [ ] 创建新直播间
- [ ] 编辑直播间
- [ ] 删除直播间

### 3. 功能特性测试

#### 3.1 语义关联度筛选
- [ ] 创建商品（包含关键词）
- [ ] 触发热点抓取
- [ ] 检查热点是否按匹配度排序
- [ ] 检查气泡图大小是否反映匹配度

#### 3.2 Firecrawl 增强功能（如果启用）
- [ ] 检查热点详情是否包含增强数据
- [ ] 检查 summary 字段
- [ ] 检查 extracted_content 字段

#### 3.3 脚本优化功能
- [ ] 生成脚本后，点击"优化"按钮
- [ ] 检查优化建议是否显示
- [ ] 测试"一键应用所有建议"
- [ ] 测试"应用此建议"（单个）
- [ ] 检查脚本内容是否更新

#### 3.4 脚本编辑功能
- [ ] 打开脚本详情
- [ ] 切换到"脚本内容"标签
- [ ] 点击"编辑"按钮
- [ ] 修改脚本内容
- [ ] 修改分镜列表
- [ ] 添加/删除分镜
- [ ] 保存修改

### 4. UI/UX 测试

#### 4.1 设计元素
- [ ] 检查渐变背景（粉色→白色→橙色）
- [ ] 检查玻璃态效果（Header）
- [ ] 检查大圆角卡片（1.5rem）
- [ ] 检查渐变按钮（粉色→橙色）
- [ ] 检查 Pantone 暖色调（气泡图）
- [ ] 检查状态标签样式（圆角标签）

#### 4.2 响应式布局
- [ ] 调整浏览器窗口大小
- [ ] 检查布局是否自适应
- [ ] 检查气泡图是否正常缩放

#### 4.3 交互反馈
- [ ] 检查按钮悬停效果
- [ ] 检查加载状态显示
- [ ] 检查错误提示
- [ ] 检查成功提示

### 5. 性能测试

- [ ] 测试页面加载速度
- [ ] 测试 API 响应速度
- [ ] 测试大量数据加载
- [ ] 测试任务执行速度

### 6. 错误处理测试

- [ ] 测试网络错误处理
- [ ] 测试 API 错误响应
- [ ] 测试表单验证
- [ ] 测试空数据状态

---

## 🔧 API 测试

### 使用 API 文档测试

访问 http://localhost:8001/docs 进行 API 测试：

#### 核心 API 端点

1. **直播间管理**
   - `GET /api/v1/live-rooms` - 获取直播间列表
   - `POST /api/v1/live-rooms` - 创建直播间
   - `PUT /api/v1/live-rooms/{id}` - 更新直播间
   - `DELETE /api/v1/live-rooms/{id}` - 删除直播间

2. **商品管理**
   - `GET /api/v1/products` - 获取商品列表
   - `POST /api/v1/products` - 创建商品
   - `GET /api/v1/products/{id}` - 获取商品详情
   - `PUT /api/v1/products/{id}` - 更新商品

3. **热点监控**
   - `POST /api/v1/hotspots/fetch` - 触发热点抓取
   - `GET /api/v1/hotspots/visualization` - 获取可视化数据
   - `GET /api/v1/hotspots/{id}` - 获取热点详情
   - `GET /api/v1/tasks/{task_id}` - 查询任务状态

4. **视频分析**
   - `POST /api/v1/analysis/analyze` - 分析视频
   - `GET /api/v1/analysis/reports` - 获取报告列表
   - `GET /api/v1/analysis/reports/{id}` - 获取报告详情

5. **脚本管理**
   - `POST /api/v1/scripts/generate` - 生成脚本
   - `GET /api/v1/scripts` - 获取脚本列表
   - `GET /api/v1/scripts/{id}` - 获取脚本详情
   - `PUT /api/v1/scripts/{id}` - 更新脚本
   - `POST /api/v1/scripts/{id}/optimize` - 获取优化建议

---

## 📊 测试数据准备

### 测试直播间
系统已包含以下直播间（已更新名称）：
- 时尚真惠选（女装）
- 好物真惠选（家具）
- 生活真惠选（家具）
- 家居真惠选（家电）
- 轻奢真惠选（奢侈品）
- 美妆真惠选（美妆）
- 童装真惠选（童装）

### 测试商品
可以创建测试商品，例如：
- 名称：测试连衣裙
- 类别：女装
- 价格：299.0
- 卖点：["时尚", "舒适", "百搭"]

---

## 🐛 问题记录

### 已知问题
- 无

### 发现的问题
请在测试过程中记录发现的问题：

1. **问题描述**：
   - 复现步骤：
   - 预期行为：
   - 实际行为：
   - 截图：

---

## 📝 测试结果

### 测试完成情况
- [ ] 基础功能测试
- [ ] 核心业务流程测试
- [ ] 功能特性测试
- [ ] UI/UX 测试
- [ ] 性能测试
- [ ] 错误处理测试

### 测试通过率
- 总测试项：XX
- 通过：XX
- 失败：XX
- 通过率：XX%

---

## 🛠️ 服务管理

### 启动服务
```bash
./scripts/start_services.sh
```

### 停止服务
```bash
./scripts/stop_services.sh
```

### 查看日志
```bash
# 后端日志
tail -f logs/backend.log

# 前端日志
tail -f logs/frontend.log

# Celery日志
tail -f logs/celery.log
```

### 重启服务
```bash
./scripts/stop_services.sh
./scripts/start_services.sh
```

---

## ✅ 测试完成确认

测试完成后，请确认：
- [ ] 所有核心功能正常
- [ ] UI/UX 符合设计要求
- [ ] 性能满足要求
- [ ] 错误处理正常
- [ ] 问题已记录

---

**测试指南版本**: 1.0  
**最后更新**: 2025-11-13
