# TrendRadar 热点抓取数量说明

## 当前情况

### API返回数量
- **TrendRadar API (newsnow.busiyi.world) 每次返回：30个热点**
- 这是API服务端的固定限制，不是我们代码的限制
- 我们的代码会处理API返回的所有热点，没有额外限制

### 数据库统计
- 总热点数：55个（多次抓取累积）
- 最近24小时：53个
- 平台：目前只抓取了 douyin（抖音）平台

## 为什么只有30个？

### API限制
1. **服务端限制**：`newsnow.busiyi.world/api/s` API 每次请求固定返回30个热点
2. **数据结构**：API返回的数据中没有 `total`、`limit`、`page` 等分页信息
3. **无参数控制**：目前没有发现可以通过参数获取更多热点的方式

### 平台特性
- 抖音热搜榜通常显示前30-50个热点
- API返回30个可能是为了：
  - 减少数据传输量
  - 提高响应速度
  - 符合平台展示习惯

## 如何获取更多热点？

### 方案1：多平台抓取（推荐）
```python
# 抓取多个平台
platforms = ["douyin", "zhihu", "weibo", "bilibili"]
for platform in platforms:
    hotspots = await crawler.crawl_hotspots(platform)
    # 每个平台30个，4个平台 = 120个热点
```

### 方案2：增加抓取频率
- 当前：每次抓取30个
- 如果每小时抓取一次：30个/小时 × 24小时 = 720个/天
- 如果每30分钟抓取一次：30个/30分钟 × 48次 = 1440个/天

### 方案3：检查API文档
- 查看 TrendRadar 项目文档
- 联系 API 维护者
- 检查是否有其他端点可以获取更多热点

## 代码中的处理

### 我们的代码
```python
# backend/app/crawlers/trendradar_crawler.py
items = data.get("items", [])  # 获取所有items，没有限制
for item in items:  # 处理所有返回的热点
    # ...
```

### 没有限制
- ✅ 代码中没有 `limit` 或 `max` 限制
- ✅ 会处理API返回的所有热点
- ✅ 如果API返回100个，我们就会处理100个

## 建议

1. **当前30个是合理的**：
   - 抖音热搜榜通常就是30-50个
   - 30个热点已经足够覆盖主要趋势
   - 太多热点可能导致信息过载

2. **如果需要更多**：
   - 考虑多平台抓取（抖音、知乎、微博等）
   - 增加抓取频率
   - 使用关键词筛选，只保留相关热点

3. **优化方向**：
   - 不是增加数量，而是提高质量
   - 通过匹配度筛选，只显示相关热点
   - 通过语义分析，提高匹配准确性
